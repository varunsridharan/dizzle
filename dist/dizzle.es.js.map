{"version":3,"file":"dizzle.es.js","sources":["../src/dizzlecore.js","../src/regex.js","../src/vars/index.js","../src/cache.js","../src/parser/parse.js","../src/selector/attr/equals.js","../src/selector/attr/notequals.js","../src/adapter.js","../src/selector/attr/prefixedwith.js","../src/selector/attr/contains.js","../src/selector/attr/containsword.js","../src/selector/attr/endswith.js","../src/selector/attr/startswith.js","../src/selector/attr/elementClass.js","../src/selector/attr/index.js","../src/selector/pseudo/empty.js","../src/selector/pseudo/disabled.js","../src/selector/pseudo/enabled.js","../src/helper.js","../src/selector/pseudo/helper.js","../src/selector/pseudo/even.js","../src/selector/pseudo/lang.js","../src/selector/pseudo/visible.js","../src/selector/pseudo/hidden.js","../src/selector/pseudo/contains.js","../src/selector/pseudo/eq.js","../src/selector/pseudo/first-child.js","../src/selector/pseudo/last-child.js","../src/selector/pseudo/first-of-type.js","../src/selector/pseudo/last-of-type.js","../src/nth-check/index.js","../src/selector/pseudo/nth-of-type.js","../src/selector/pseudo/first.js","../src/selector/pseudo/last.js","../src/selector/pseudo/odd.js","../src/selector/pseudo/gt.js","../src/selector/pseudo/lt.js","../src/selector/pseudo/nth-last-of-type.js","../src/selector/pseudo/nth-last-child.js","../src/selector/pseudo/checked.js","../src/selector/pseudo/button.js","../src/selector/pseudo/input.js","../src/selector/pseudo/parent.js","../src/selector/pseudo/selected.js","../src/selector/pseudo/text.js","../src/selector/pseudo/only-child.js","../src/selector/pseudo/only-of-type.js","../src/selector/pseudo/has.js","../src/selector/pseudo/index.js","../src/selector/matcher.js","../src/is.js","../src/filter.js","../src/selector/query.js","../src/selector/combinators/child.js","../src/selector/combinators/adjacent.js","../src/selector/combinators/sibling.js","../src/selector/combinators/descendant.js","../src/selector/combinators/index.js","../src/engine.js","../src/index.js"],"sourcesContent":["function DizzleCore( selector, context ) {\r\n\treturn DizzleCore.find( selector, context );\r\n}\r\n\r\nexport function err( msg ) {\r\n\tthrow new Error( msg );\r\n}\r\n\r\nDizzleCore.guid = 'dizzle' + ( 1 * new Date() );\r\nDizzleCore.err  = err;\r\nexport default DizzleCore;\r\n","export const reName          = /^[^\\\\]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/,\r\n\t\t\t reEscape        = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi,\r\n\t\t\t // Modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87\r\n\t\t\t reAttr          = /^\\s*((?:\\\\.|[\\w\\u00b0-\\uFFFF-])+)\\s*(?:(\\S?)=\\s*(?:(['\"])((?:[^\\\\]|\\\\[^])*?)\\3|(#?(?:\\\\.|[\\w\\u00b0-\\uFFFF-])*)|)|)\\s*(i)?\\]/,\r\n\t\t\t // Easily-parseable/retrievable ID or TAG or CLASS selectors\r\n\t\t\t rquickExpr      = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\r\n\t\t\t whitespace      = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\r\n\t\t\t rwhitespace     = new RegExp( whitespace + '+', 'g' ),\r\n\t\t\t // Below Regex is used to find any issues with string such as using / or \\ - _ (Any Special Char Thats Needs To Be Escaped)\r\n\t\t\t rfindEscapeChar = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\r\n","export var CombinatorTypes = [ '>', '<', '~', '+' ];\r\n","import DizzleCore from \"./dizzlecore\";\r\nimport { isUndefined } from \"@varunsridharan/js-is\";\r\n\r\nfunction createCache() {\r\n\tlet keys = [];\r\n\r\n\tfunction cache( key, value ) {\r\n\t\tif( isUndefined( value ) ) {\r\n\t\t\treturn cache[ key + ' ' ];\r\n\t\t}\r\n\t\tif( keys.push( key + ' ' ) > DizzleCore.cacheLength ) {\r\n\t\t\tdelete cache[ keys.shift() ];\r\n\t\t}\r\n\t\treturn ( cache[ key + ' ' ] = value );\r\n\t}\r\n\r\n\treturn cache;\r\n}\r\n\r\n/**\r\n * Stores All Parsed Selector In Cache.\r\n * @type {cache}\r\n */\r\nexport const parseCache = createCache();\r\n\r\n/**\r\n * Stores All Non Native Selector Data.\r\n * @type {cache}\r\n */\r\nexport const nonNativeSelector = createCache();\r\n\r\n/**\r\n * Stores All Selector's Results in Cache\r\n * @type {cache}\r\n */\r\nexport const selectorResultsCache = createCache();\r\n","/**\r\n * This is a modified version of\r\n * https://github.com/fb55/css-what/tree/eefc98a05fa29a402c6645e375df47d7f3958dfc\r\n * Stable Released V 3.4.1\r\n */\r\nimport { reAttr, reEscape, reName } from \"../regex\";\r\nimport { err } from \"../dizzlecore\";\r\nimport { CombinatorTypes } from \"../vars\";\r\nimport { parseCache } from \"../cache\";\r\n\r\nconst attribSelectors        = { '#': [ 'id', '=' ], '.': [ 'class', 'element' ] },\r\n\t  unpackPseudos          = new Set( [ 'has', 'not', 'matches', 'is', 'host', 'host-context' ] ),\r\n\t  stripQuotesFromPseudos = new Set( [ 'contains', 'icontains' ] ),\r\n\t  quotes                 = new Set( [ '\"', '\\'' ] );\r\n\r\n\r\n/**\r\n * Below Regex Is Used To Escape CSS Selector such as\r\n * #myID.entry[1] -->  #myID\\\\.entry\\\\[1\\\\]\r\n * @type {RegExp}\r\n */\r\nfunction funescape( escaped, escapedWhitespace ) {\r\n\tconst high = parseInt( escaped, 16 ) - 0x10000;\r\n\treturn high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode( high + 0x10000 ) : String.fromCharCode( ( high >> 10 ) | 0xd800, ( high & 0x3ff ) | 0xdc00 );\r\n}\r\n\r\nfunction unescapeCSS( str ) {\r\n\treturn str.replace( reEscape, funescape );\r\n}\r\n\r\nfunction isWhitespace( c ) {\r\n\treturn c === ' ' || c === '\\n' || c === '\\t' || c === '\\f' || c === '\\r';\r\n}\r\n\r\nfunction parseSelector( subselects, selector ) {\r\n\tlet tokens = [],\r\n\t\tsawWS  = false;\r\n\r\n\tfunction getName() {\r\n\t\tconst match = selector.match( reName );\r\n\t\tif( !match ) {\r\n\t\t\terr( `Expected name, found ${selector}` );\r\n\t\t}\r\n\t\tconst [ sub ] = match;\r\n\t\tselector      = selector.substr( sub.length );\r\n\t\treturn unescapeCSS( sub );\r\n\t}\r\n\r\n\tfunction stripWhitespace( start ) {\r\n\t\twhile( isWhitespace( selector.charAt( start ) ) ) {\r\n\t\t\tstart++;\r\n\t\t}\r\n\t\tselector = selector.substr( start );\r\n\t}\r\n\r\n\tfunction isEscaped( pos ) {\r\n\t\tlet slashCount = 0;\r\n\t\twhile( selector.charAt( --pos ) === '\\\\' ) {\r\n\t\t\tslashCount++;\r\n\t\t}\r\n\t\treturn ( slashCount & 1 ) === 1;\r\n\t}\r\n\r\n\tstripWhitespace( 0 );\r\n\r\n\twhile( selector !== '' ) {\r\n\t\tconst firstChar = selector.charAt( 0 );\r\n\r\n\t\tif( isWhitespace( firstChar ) ) {\r\n\t\t\tsawWS = true;\r\n\t\t\tstripWhitespace( 1 );\r\n\t\t} else if( CombinatorTypes.indexOf( firstChar ) >= 0 ) {\r\n\t\t\ttokens.push( { type: 'combinators', action: firstChar } );\r\n\t\t\tsawWS = false;\r\n\t\t\tstripWhitespace( 1 );\r\n\t\t} else if( firstChar === ',' ) {\r\n\t\t\tif( tokens.length === 0 ) {\r\n\t\t\t\terr( 'Empty sub-selector' );\r\n\t\t\t}\r\n\t\t\tsubselects.push( tokens );\r\n\t\t\ttokens = [];\r\n\t\t\tsawWS  = false;\r\n\t\t\tstripWhitespace( 1 );\r\n\t\t} else {\r\n\t\t\tif( sawWS ) {\r\n\t\t\t\tif( tokens.length > 0 ) {\r\n\t\t\t\t\ttokens.push( { type: 'descendant', action: ' ' } );\r\n\t\t\t\t}\r\n\t\t\t\tsawWS = false;\r\n\t\t\t}\r\n\t\t\tif( firstChar === '*' ) {\r\n\t\t\t\tselector = selector.substr( 1 );\r\n\t\t\t\ttokens.push( { type: '*' } );\r\n\t\t\t} else if( firstChar in attribSelectors ) {\r\n\t\t\t\tconst [ name, action ] = attribSelectors[ firstChar ];\r\n\t\t\t\tselector               = selector.substr( 1 );\r\n\t\t\t\ttokens.push( {\r\n\t\t\t\t\ttype: 'attr',\r\n\t\t\t\t\tid: name, action,\r\n\t\t\t\t\tval: getName(),\r\n\t\t\t\t\tigCase: false,\r\n\t\t\t\t} );\r\n\t\t\t} else if( firstChar === '[' ) {\r\n\t\t\t\tselector             = selector.substr( 1 );\r\n\t\t\t\tconst attributeMatch = selector.match( reAttr );\r\n\t\t\t\tif( !attributeMatch ) {\r\n\t\t\t\t\terr( `Malformed attribute selector: ${selector}` );\r\n\t\t\t\t}\r\n\t\t\t\tconst [ completeSelector, baseName, actionType, , quotedValue = \"\", value = quotedValue, igCase, ] = attributeMatch;\r\n\t\t\t\tselector                                                      = selector.substr( completeSelector.length );\r\n\t\t\t\tlet name                                                      = unescapeCSS( baseName );\r\n\t\t\t\tname                                                          = name.toLowerCase();\r\n\t\t\t\ttokens.push( {\r\n\t\t\t\t\ttype: 'attr',\r\n\t\t\t\t\tid: name,\r\n\t\t\t\t\taction: actionType || '=',\r\n\t\t\t\t\tval: unescapeCSS( value ),\r\n\t\t\t\t\tigCase: !!igCase,\r\n\t\t\t\t} );\r\n\t\t\t} else if( firstChar === ':' ) {\r\n\t\t\t\tif( selector.charAt( 1 ) === ':' ) {\r\n\t\t\t\t\tselector = selector.substr( 2 );\r\n\t\t\t\t\ttokens.push( { type: 'pseudo-element', id: getName().toLowerCase() } );\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tselector   = selector.substr( 1 );\r\n\t\t\t\tconst name = getName().toLowerCase();\r\n\t\t\t\tlet data   = null;\r\n\t\t\t\tif( selector.startsWith( '(' ) ) {\r\n\t\t\t\t\tif( unpackPseudos.has( name ) ) {\r\n\t\t\t\t\t\tconst quot   = selector.charAt( 1 ),\r\n\t\t\t\t\t\t\t  quoted = quotes.has( quot );\r\n\t\t\t\t\t\tselector     = selector.substr( quoted ? 2 : 1 );\r\n\t\t\t\t\t\tdata         = [];\r\n\t\t\t\t\t\tselector     = parseSelector( data, selector );\r\n\t\t\t\t\t\tif( quoted ) {\r\n\t\t\t\t\t\t\tif( !selector.startsWith( quot ) ) {\r\n\t\t\t\t\t\t\t\terr( `Unmatched quotes in :${name}` );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tselector = selector.substr( 1 );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( !selector.startsWith( ')' ) ) {\r\n\t\t\t\t\t\t\terr( `Missing closing parenthesis in :${name} (${selector})` );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tselector = selector.substr( 1 );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet pos     = 1,\r\n\t\t\t\t\t\t\tcounter = 1;\r\n\t\t\t\t\t\tfor( ; counter > 0 && pos < selector.length; pos++ ) {\r\n\t\t\t\t\t\t\tif( selector.charAt( pos ) === '(' && !isEscaped( pos ) ) {\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t} else if( selector.charAt( pos ) === ')' && !isEscaped( pos ) ) {\r\n\t\t\t\t\t\t\t\tcounter--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif( counter ) {\r\n\t\t\t\t\t\t\terr( 'Parenthesis not matched' );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata     = selector.substr( 1, pos - 2 );\r\n\t\t\t\t\t\tselector = selector.substr( pos );\r\n\t\t\t\t\t\tif( stripQuotesFromPseudos.has( name ) ) {\r\n\t\t\t\t\t\t\tconst quot = data.charAt( 0 );\r\n\t\t\t\t\t\t\tif( quot === data.slice( -1 ) && quotes.has( quot ) ) {\r\n\t\t\t\t\t\t\t\tdata = data.slice( 1, -1 );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdata = unescapeCSS( data );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttokens.push( { type: 'pseudo', id: name, data } );\r\n\t\t\t} else if( reName.test( selector ) ) {\r\n\t\t\t\tlet name = getName();\r\n\t\t\t\tname     = name.toLowerCase();\r\n\t\t\t\ttokens.push( { type: 'tag', id: name } );\r\n\t\t\t} else {\r\n\t\t\t\tif( tokens.length && tokens[ tokens.length - 1 ].type === 'descendant' ) {\r\n\t\t\t\t\ttokens.pop();\r\n\t\t\t\t}\r\n\t\t\t\taddToken( subselects, tokens );\r\n\t\t\t\treturn selector;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\taddToken( subselects, tokens );\r\n\treturn selector;\r\n}\r\n\r\nfunction addToken( subselects, tokens ) {\r\n\tif( subselects.length > 0 && tokens.length === 0 ) {\r\n\t\terr( 'Empty sub-selector' );\r\n\t}\r\n\tsubselects.push( tokens );\r\n}\r\n\r\nexport default function parse( selector ) {\r\n\tlet cached = parseCache( selector );\r\n\tif( cached ) {\r\n\t\treturn cached;\r\n\t}\r\n\tcached           = selector;\r\n\tconst subselects = [];\r\n\tselector         = parseSelector( subselects, `${selector}` );\r\n\tif( selector !== '' ) {\r\n\t\terr( `Unmatched selector: ${selector}` );\r\n\t}\r\n\treturn parseCache( cached, subselects );\r\n}\r\n","/**\r\n * @todo create a another function to check if attribute exists.\r\n * @param currentValue\r\n * @param compareValue\r\n * @return {boolean}\r\n */\r\nexport default function( currentValue, compareValue ) {\r\n\treturn currentValue === compareValue;\r\n}","import equals from \"./equals\";\r\n\r\nexport default function( currentValue, compareValue ) {\r\n\treturn ( !equals( currentValue, compareValue ) );\r\n}","import { _slice } from \"@varunsridharan/js-vars\";\r\n\r\nfunction isTag( elem ) {\r\n\treturn elem.nodeType === 1;\r\n}\r\n\r\nfunction getChildren( elem ) {\r\n\treturn elem.childNodes ? _slice.call( elem.childNodes, 0 ) : [];\r\n}\r\n\r\nfunction getParent( elem ) {\r\n\treturn elem.parentNode;\r\n}\r\n\r\nexport default {\r\n\tisTag: isTag,\r\n\tgetChildren: getChildren,\r\n\tgetParent: getParent,\r\n\tattr: function( el, key ) {\r\n\t\treturn el.getAttribute( key );\r\n\t},\r\n\tgetSiblings: function( elem ) {\r\n\t\tvar parent = getParent( elem );\r\n\t\treturn parent ? getChildren( parent ) : [ elem ];\r\n\t},\r\n\tgetTagName: function( elem ) {\r\n\t\treturn ( elem.tagName || '' ).toLowerCase();\r\n\t},\r\n};\r\n","import equals from \"./equals\";\r\n\r\nexport default function( currentValue, compareValue ) {\r\n\treturn ( equals( currentValue, compareValue ) || currentValue.slice( 0, compareValue.length + 1 ) === `${compareValue}-` );\r\n}\r\n","export default function( currentValue, compareValue ) {\r\n\treturn (compareValue && currentValue.indexOf( compareValue ) > -1  );\r\n}","import { rwhitespace } from \"../../regex\";\r\n\r\nexport default function( currentValue, compareValue ) {\r\n\treturn ( ' ' + currentValue.replace( rwhitespace, ' ' ) + ' ' ).indexOf( compareValue ) > -1;\r\n}","export default function( currentValue, compareValue ) {\r\n\treturn (compareValue && currentValue.slice( -compareValue.length ) === compareValue);\r\n}","export default function( currentValue, compareValue ) {\r\n\treturn ( compareValue && currentValue.indexOf( compareValue ) === 0 );\r\n}","import { rfindEscapeChar } from \"../../regex\";\r\n\r\nexport default function( currentValue, compareValue ) {\r\n\tcompareValue = compareValue.replace( rfindEscapeChar, '\\\\$&' );\r\n\treturn currentValue != null && ( new RegExp( `(?:^|\\\\s)${compareValue}(?:$|\\\\s)`, '' ) ).test( currentValue );\r\n}\r\n","import equals from \"./equals\";\r\nimport notequals from \"./notequals\";\r\nimport adapter from \"../../adapter\";\r\nimport prefixedwith from \"./prefixedwith\";\r\nimport contains from \"./contains\";\r\nimport containsword from \"./containsword\";\r\nimport endswith from \"./endswith\";\r\nimport startswith from \"./startswith\";\r\nimport elementClass from \"./elementClass\";\r\nimport { isNull } from \"@varunsridharan/js-is\";\r\n\r\nexport const attrHandlers = {\r\n\t'=': equals,\r\n\t'!': notequals,\r\n\t'|': prefixedwith,\r\n\t'*': contains,\r\n\t'~': containsword,\r\n\t'$': endswith,\r\n\t'^': startswith,\r\n\t/**\r\n\t * The below function is used only to check for element class\r\n\t * when query is used like\r\n\t * .myclass1.myclass2 / .myclass .anotherelement\r\n\t */\r\n\t'element': elementClass\r\n};\r\nexport default function( el, token ) {\r\n\tlet status       = true,\r\n\t\t{ action }   = token,\r\n\t\tcurrentValue = adapter.attr( el, token.id );\r\n\r\n\tif( isNull( currentValue ) ) {\r\n\t\treturn action === '!';\r\n\t}\r\n\r\n\tif( action in attrHandlers ) {\r\n\t\tstatus = attrHandlers[ action ]( currentValue, token.val );\r\n\t}\r\n\r\n\treturn status;\r\n}\r\n","export default function( elem ) {\r\n\tfor( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\tif( elem.nodeType < 6 ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n","export default function( elem ) {\r\n\t// Only certain elements can match :enabled or :disabled\r\n\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\r\n\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\r\n\tif( 'form' in elem ) {\r\n\t\t// Check for inherited disabledness on relevant non-disabled elements:\r\n\t\t// * listed form-associated elements in a disabled fieldset\r\n\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\r\n\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\r\n\t\t// * option elements in a disabled optgroup\r\n\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\r\n\t\t// All such elements have a \"form\" property.\r\n\t\tif( elem.parentNode && elem.disabled === false ) {\r\n\t\t\t// Option elements defer to a parent optgroup if present\r\n\t\t\tif( 'label' in elem ) {\r\n\t\t\t\treturn ( 'label' in elem.parentNode ) ? elem.parentNode.disabled === true : elem.disabled === true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn elem.disabled === true;\r\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\r\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\r\n\t\t// even exist on them, let alone have a boolean value.\r\n\t} else if( 'label' in elem ) {\r\n\t\treturn elem.disabled === true;\r\n\t}\r\n\t// Remaining elements are neither :enabled nor :disabled\r\n\treturn false;\r\n}\r\n","import disabled from \"./disabled\";\r\n\r\nexport default function( elem ) {\r\n\treturn !disabled( elem );\r\n}","import DizzleCore from \"./dizzlecore\";\r\nimport { win } from \"@varunsridharan/js-vars\";\r\nimport { isFunction, isString } from \"@varunsridharan/js-is\";\r\n\r\nexport const preferedDocument = win.document;\r\nexport var currentDocument    = preferedDocument,\r\n\t\t   docElem            = currentDocument.documentElement;\r\n\r\nexport function markFunction( fn ) {\r\n\tfn[ DizzleCore.guid ] = true;\r\n\treturn fn;\r\n}\r\n\r\nexport function isMarkedFunction( fn ) {\r\n\treturn ( isFunction( fn ) && fn[ DizzleCore.guid ] );\r\n}\r\n\r\n/**\r\n * Fetches Text Value From Nodes\r\n *\r\n * NodeTypes\r\n * \t1 --> ELEMENT_NODE ( p / div)\r\n * \t9 --> DOCUMENT_NODE (window.document)\r\n * \t11 --> DOCUMENT_FRAGMENT_NODE (such as iframe)\r\n * \t3 --> TEXT_NODE  ( The actual Text inside an Element or Attr. )\r\n *  4 --> CDATA_SECTION_NODE (A CDATASection, such as <!CDATA[[ â€¦ ]]>.)\r\n * @param elem\r\n * @return {string|any}\r\n */\r\nexport function getText( elem ) {\r\n\tvar node,\r\n\t\tret      = '',\r\n\t\ti        = 0,\r\n\t\tnodeType = elem.nodeType;\r\n\r\n\tif( !nodeType ) {\r\n\t\twhile( ( node = elem[ i++ ] ) ) {\r\n\t\t\tret += getText( node );\r\n\t\t}\r\n\t} else if( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\r\n\t\tif( isString( elem.textContent ) ) {\r\n\t\t\treturn elem.textContent;\r\n\t\t} else {\r\n\t\t\tfor( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\tret += getText( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t} else if( nodeType === 3 || nodeType === 4 ) {\r\n\t\treturn elem.nodeValue;\r\n\t}\r\n\treturn ret;\r\n}\r\n","import { markFunction } from \"../../helper\";\r\nimport { isUndefined } from \"@varunsridharan/js-is\";\r\n\r\nexport function createPositionalPseudo( fn ) {\r\n\treturn markFunction( ( elements, token ) => {\r\n\t\ttoken.data = +token.data;\r\n\t\treturn fn( elements, elements.length, token );\r\n\t} );\r\n}\r\n\r\nexport function oddOrEven( isodd, elements, totalFound, result ) {\r\n\tvar i = ( isodd ) ? 1 : 0;\r\n\tfor( ; i < totalFound; i += 2 ) {\r\n\t\tif( !isUndefined( elements[ i ] ) ) {\r\n\t\t\tresult.push( elements[ i ] );\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for input types\r\n * @param {String} type\r\n */\r\nexport function createInputPseudo( type ) {\r\n\treturn ( elem ) => elem.nodeName.toLowerCase() === 'input' && elem.type === type;\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for buttons\r\n * @param {String} type\r\n */\r\nexport function createButtonPseudo( type ) {\r\n\treturn function( elem ) {\r\n\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\treturn ( name === 'input' || name === 'button' ) && elem.type === type;\r\n\t};\r\n}\r\n","import { oddOrEven } from \"./helper\";\r\n\r\nexport default function( elements, totalFound ) {\r\n\treturn oddOrEven( false, elements, totalFound );\r\n}\r\n","import adapter from \"../../adapter\";\r\n\r\nexport default function( el, { data } ) {\r\n\tlet elemLang;\r\n\tdata = data.toLowerCase();\r\n\tdo {\r\n\t\tif( ( elemLang = el.lang || adapter.attr( el, 'lang' ) ) ) {\r\n\t\t\telemLang = elemLang.toLowerCase();\r\n\t\t\treturn elemLang === data || elemLang.indexOf( data + '-' ) === 0;\r\n\t\t}\r\n\t} while( ( el = el.parentNode ) && el.nodeType === 1 );\r\n\treturn false;\r\n}\r\n","export default function( elem ) {\r\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\r\n}\r\n","import visible from \"./visible\";\r\n\r\nexport default function( elem ) {\r\n\treturn !( visible( elem ) );\r\n}","import { getText } from \"../../helper\";\r\n\r\nexport default function( elem, token ) {\r\n\treturn ( elem.textContent || getText( elem ) ).indexOf( token.data ) > -1;\r\n}\r\n","export default function( elements, totalFound, { data } ) {\r\n\treturn [ elements[ data < 0 ? data + totalFound : data ] ];\r\n}\r\n","export default function( elem ) {\r\n\treturn ( !elem.previousElementSibling );\r\n}","export default function( elem ) {\r\n\treturn ( !elem.nextElementSibling );\r\n}","import adapter from \"../../adapter\";\r\n\r\nexport default function( elem ) {\r\n\tconst siblings = adapter.getSiblings( elem );\r\n\r\n\tfor( let i = 0; i < siblings.length; i++ ) {\r\n\t\tif( adapter.isTag( siblings[ i ] ) ) {\r\n\t\t\tif( siblings[ i ] === elem ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif( adapter.getTagName( siblings[ i ] ) === adapter.getTagName( elem ) ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}","import adapter from \"../../adapter\";\r\n\r\nexport default function( elem ) {\r\n\tconst siblings = adapter.getSiblings( elem );\r\n\tfor( let i = siblings.length - 1; i >= 0; i-- ) {\r\n\t\tif( adapter.isTag( siblings[ i ] ) ) {\r\n\t\t\tif( siblings[ i ] === elem ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif( adapter.getTagName( siblings[ i ] ) === adapter.getTagName( elem ) ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}","/**\r\n * @see https://github.com/fb55/nth-check\r\n */\r\n\r\n/**\r\n * returns a function that checks if an elements index matches the given rule\r\n * highly optimized to return the fastest solution\r\n */\r\nfunction nthCheck_compile( parsed ) {\r\n\tvar a = parsed[ 0 ],\r\n\t\tb = parsed[ 1 ] - 1;\r\n\r\n\t//when b <= 0, a*n won't be possible for any matches when a < 0\r\n\t//besides, the specification says that no element is matched when a and b are 0\r\n\tif( b < 0 && a <= 0 ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//when a is in the range -1..1, it matches any element (so only b is checked)\r\n\tif( a === -1 ) {\r\n\t\treturn pos => pos <= b;\r\n\t}\r\n\r\n\tif( a === 0 ) {\r\n\t\treturn pos => pos === b;\r\n\t}\r\n\r\n\t//when b <= 0 and a === 1, they match any element\r\n\tif( a === 1 ) {\r\n\t\treturn b < 0 ? true : pos => pos >= b;\r\n\t}\r\n\r\n\t//when a > 0, modulo can be used to check if there is a match\r\n\tvar bMod = b % a;\r\n\r\n\tif( bMod < 0 ) {\r\n\t\tbMod += a;\r\n\t}\r\n\r\n\tif( a > 1 ) {\r\n\t\treturn ( pos ) => pos >= b && pos % a === bMod;\r\n\t}\r\n\r\n\ta *= -1; //make `a` positive\r\n\r\n\treturn ( pos ) => pos <= b && pos % a === bMod;\r\n}\r\n\r\n/**\r\n * parses a nth-check formula, returns an array of two numbers\r\n * following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\r\n * [ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\r\n */\r\nfunction nthCheck_parse( formula ) {\r\n\tformula = formula.trim().toLowerCase();\r\n\r\n\tswitch( formula ) {\r\n\t\tcase 'even':\r\n\t\t\treturn [ 2, 0 ];\r\n\t\tcase 'odd':\r\n\t\t\treturn [ 2, 1 ];\r\n\t\tdefault:\r\n\t\t\tvar parsed = formula.match( /^([+\\-]?\\d*n)?\\s*(?:([+\\-]?)\\s*(\\d+))?$/ );\r\n\r\n\t\t\tif( !parsed ) {\r\n\t\t\t\tthrow new SyntaxError( `n-th rule couldn't be parsed ('${formula}')` );\r\n\t\t\t}\r\n\r\n\t\t\tvar a;\r\n\r\n\t\t\tif( parsed[ 1 ] ) {\r\n\t\t\t\ta = parseInt( parsed[ 1 ], 10 );\r\n\t\t\t\tif( isNaN( a ) ) {\r\n\t\t\t\t\ta = ( parsed[ 1 ].charAt( 0 ) === '-' ) ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ta = 0;\r\n\t\t\t}\r\n\r\n\t\t\treturn [ a, parsed[ 3 ] ? parseInt( ( parsed[ 2 ] || '' ) + parsed[ 3 ], 10 ) : 0 ];\r\n\t}\r\n}\r\n\r\nexport default function nthCheck( formula ) {\r\n\treturn nthCheck_compile( nthCheck_parse( formula ) );\r\n}\r\n","import nthCheck from \"../../nth-check\";\r\nimport adapter from \"../../adapter\";\r\n\r\nexport default function( el, token ) {\r\n\tlet func     = nthCheck( token.data ),\r\n\t\tsiblings = adapter.getSiblings( el );\r\n\r\n\tlet pos = 0;\r\n\tfor( let i = 0; i < siblings.length; i++ ) {\r\n\t\tif( adapter.isTag( siblings[ i ] ) ) {\r\n\t\t\tif( siblings[ i ] === el ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif( adapter.getTagName( siblings[ i ] ) === adapter.getTagName( el ) ) {\r\n\t\t\t\tpos++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn func( pos );\r\n\r\n}","export default function( elements ) {\r\n\treturn [ elements[ 0 ] ];\r\n}\r\n","export default function( elements ) {\r\n\treturn [ elements[ elements.length - 1 ] ];\r\n}\r\n","import { oddOrEven } from \"./helper\";\r\n\r\nexport default function( elements, totalFound ) {\r\n\treturn oddOrEven( true, elements, totalFound );\r\n}\r\n","import { isUndefined } from \"@varunsridharan/js-is\";\r\n\r\nexport default function( elements, totalFound, { data } ) {\r\n\tlet result = [];\r\n\tlet i      = data < 0 ? data + totalFound : data;\r\n\tfor( ; ++i < elements.length; ) {\r\n\t\tif( !isUndefined( elements[ i ] ) ) {\r\n\t\t\tresult.push( elements[ i ] );\r\n\t\t}\r\n\r\n\t}\r\n\treturn result;\r\n}\r\n","import { isUndefined } from \"@varunsridharan/js-is\";\r\n\r\nexport default function( elements, totalFound, { data } ) {\r\n\tlet result = [];\r\n\tlet i      = data < 0 ? data + totalFound : data > totalFound ? totalFound : data;\r\n\tfor( ; --i >= 0; ) {\r\n\t\tif( !isUndefined( elements[ i ] ) ) {\r\n\t\t\tresult.push( elements[ i ] );\r\n\t\t}\r\n\r\n\t}\r\n\treturn result;\r\n}\r\n","import nthCheck from \"../../nth-check\";\r\nimport adapter from \"../../adapter\";\r\n\r\nexport default function( el, token ) {\r\n\tlet func     = nthCheck( token.data ),\r\n\t\tsiblings = adapter.getSiblings( el );\r\n\r\n\tlet pos = 0;\r\n\tfor( let i = siblings.length - 1; i >= 0; i-- ) {\r\n\t\tif( adapter.isTag( siblings[ i ] ) ) {\r\n\t\t\tif( siblings[ i ] === el ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif( adapter.getTagName( siblings[ i ] ) === adapter.getTagName( el ) ) {\r\n\t\t\t\tpos++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn func( pos );\r\n\r\n}","import nthCheck from \"../../nth-check\";\r\nimport adapter from \"../../adapter\";\r\n\r\nexport default function( el, token ) {\r\n\tlet func     = nthCheck( token.data ),\r\n\t\tsiblings = adapter.getSiblings( el );\r\n\r\n\tlet pos = 0;\r\n\tfor( let i = siblings.length - 1; i >= 0; i-- ) {\r\n\t\tif( adapter.isTag( siblings[ i ] ) ) {\r\n\t\t\tif( siblings[ i ] === el ) {\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tpos++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn func( pos );\r\n\r\n}","export default function(elem) {\r\n\tvar nodeName = elem.nodeName.toLowerCase();\r\n\treturn ( nodeName === 'input' && !!elem.checked ) || ( nodeName === 'option' && !!elem.selected );\r\n}\r\n","export default function( elem ) {\r\n\tvar name = elem.nodeName.toLowerCase();\r\n\treturn name === 'input' && elem.type === 'button' || name === 'button';\r\n}\r\n","export default function( elem ) {\r\n\treturn ( /^(?:input|select|textarea|button)$/i.test( elem.nodeName ) );\r\n}","import empty from \"./empty\";\r\n\r\nexport default function( elem ) {\r\n\treturn !empty( elem );\r\n}","export default function( elem ) {\r\n\t/**\r\n\t * Accessing this property makes selected-by-default\r\n\t * options in Safari work properly\r\n\t */\r\n\tif( elem.parentNode ) {\r\n\t\telem.parentNode.selectedIndex;\r\n\t}\r\n\treturn elem.selected === true;\r\n}","export default function( elem ) {\r\n\tvar attr;\r\n\treturn elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ( ( attr = elem.getAttribute( 'type' ) ) == null || attr.toLowerCase() === 'text' );\r\n}","import adapter from \"../../adapter\";\r\n\r\nexport default function onlyChild( elem ) {\r\n\tconst siblings = adapter.getSiblings( elem );\r\n\r\n\tfor( let i = 0; i < siblings.length; i++ ) {\r\n\t\tif( adapter.isTag( siblings[ i ] ) && siblings[ i ] !== elem ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}","import adapter from \"../../adapter\";\r\n\r\nexport default function onlyOfType( elem ) {\r\n\tconst siblings = adapter.getSiblings( elem );\r\n\r\n\tfor( let i = 0, j = siblings.length; i < j; i++ ) {\r\n\t\tif( adapter.isTag( siblings[ i ] ) ) {\r\n\t\t\tif( siblings[ i ] === elem ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif( adapter.getTagName( siblings[ i ] ) === adapter.getTagName( elem ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}","import DizzleCore from \"../../dizzlecore\";\r\n\r\nexport default function( elem, { data } ) {\r\n\treturn ( DizzleCore.find( data, elem ).length > 0 );\r\n}\r\n","import empty from \"./empty\";\r\nimport disabled from \"./disabled\";\r\nimport enabled from \"./enabled\";\r\nimport even from \"./even\";\r\nimport { createButtonPseudo, createInputPseudo, createPositionalPseudo } from \"./helper\";\r\nimport lang from \"./lang\";\r\nimport { isMarkedFunction } from \"../../helper\";\r\nimport visible from \"./visible\";\r\nimport hidden from \"./hidden\";\r\nimport contains from \"./contains\";\r\nimport eq from \"./eq\";\r\nimport firstChild from \"./first-child\";\r\nimport lastChild from \"./last-child\";\r\nimport firstOfType from \"./first-of-type\";\r\nimport lastOfType from \"./last-of-type\";\r\nimport nthOfType from \"./nth-of-type\";\r\nimport first from \"./first\";\r\nimport last from \"./last\";\r\nimport odd from \"./odd\";\r\nimport gt from \"./gt\";\r\nimport lt from \"./lt\";\r\nimport nthLastOfType from \"./nth-last-of-type\";\r\nimport nthLastChild from \"./nth-last-child\";\r\nimport checked from \"./checked\";\r\nimport button from \"./button\";\r\nimport input from \"./input\";\r\nimport parent from \"./parent\";\r\nimport selected from \"./selected\";\r\nimport text from \"./text\";\r\nimport onlyChild from \"./only-child\";\r\nimport onlyOfType from \"./only-of-type\";\r\nimport has from \"./has\";\r\nimport { _isArray } from \"@varunsridharan/js-vars\";\r\n\r\n\r\nexport const pesudoHandlers = {\r\n\t'empty': empty,\r\n\t'disabled': disabled,\r\n\t'enabled': enabled,\r\n\t'lang': lang,\r\n\t'visible': visible,\r\n\t'hidden': hidden,\r\n\t'contains': contains,\r\n\t'first-child': firstChild,\r\n\t'last-child': lastChild,\r\n\t'first-of-type': firstOfType,\r\n\t'last-of-type': lastOfType,\r\n\t'even': createPositionalPseudo( even ),\r\n\t'odd': createPositionalPseudo( odd ),\r\n\t'gt': createPositionalPseudo( gt ),\r\n\t'lt': createPositionalPseudo( lt ),\r\n\t'eq': createPositionalPseudo( eq ),\r\n\t'first': createPositionalPseudo( first ),\r\n\t'last': createPositionalPseudo( last ),\r\n\t'nth-of-type': nthOfType,\r\n\t'nth-last-of-type': nthLastOfType,\r\n\t'nth-last-child': nthLastChild,\r\n\t'checked': checked,\r\n\t'input': input,\r\n\t'button': button,\r\n\t'parent': parent,\r\n\t'selected': selected,\r\n\t'text': text,\r\n\t'only-child': onlyChild,\r\n\t'only-of-type': onlyOfType,\r\n\t'has': has\r\n};\r\n\r\n[ 'radio', 'checkbox', 'file', 'password', 'image' ].forEach( ( i ) => {\r\n\tpesudoHandlers[ i ] = createInputPseudo( i );\r\n} );\r\n\r\n[ 'submit', 'reset' ].forEach( ( i ) => {\r\n\tpesudoHandlers[ i ] = createButtonPseudo( i );\r\n} );\r\n\r\nexport default function pesudoHandler( el, token ) {\r\n\tlet { id } = token;\r\n\tif( _isArray( el ) ) {\r\n\t\tif( id in pesudoHandlers ) {\r\n\t\t\tel = ( isMarkedFunction( pesudoHandlers[ id ] ) ) ? pesudoHandlers[ id ]( el, token ) : el.filter( e => pesudoHandlers[ id ]( e, token ) );\r\n\t\t}\r\n\t\treturn el;\r\n\t}\r\n\treturn ( pesudoHandlers[ id ] ) ? pesudoHandlers[ id ]( el, token ) : true;\r\n}\r\n","import { docElem } from \"../helper\";\r\n\r\nlet matcherFn = false;\r\n\r\nexport default function matches( el, selector ) {\r\n\treturn el[ matcherFn ]( selector );\r\n}\r\n\r\nexport function setupMatcherFn() {\r\n\tmatcherFn = [ 'matches', 'webkitMatchesSelector', 'msMatchesSelector' ].reduce( ( fn, name ) => ( fn ) ? fn : name in docElem ? name : fn, null );\r\n}\r\n","import parse from \"./parser/parse\";\r\nimport matcher from \"./selector/matcher\";\r\nimport { filterElement } from \"./filter\";\r\n\r\nexport function isCheckCustom( selector, elem ) {\r\n\tlet r = parse( selector ).reduce( ( results, tokens ) => {\r\n\t\tlet i      = 0,\r\n\t\t\tstatus = true;\r\n\t\twhile( i < tokens.length ) {\r\n\t\t\tstatus = ( filterElement( elem, tokens[ i++ ] ) ) ? elem : false;\r\n\t\t}\r\n\t\treturn status;\r\n\t}, true );\r\n\treturn !!( r );\r\n}\r\n\r\nexport default function is( selector, elem ) {\r\n\ttry {\r\n\t\treturn matcher( elem, selector );\r\n\t} catch( e ) {\r\n\t\treturn isCheckCustom( selector, elem );\r\n\t}\r\n}\r\n","import attrHandler from \"./selector/attr\";\r\nimport pesudoHandler from \"./selector/pseudo\";\r\nimport { isUndefined } from \"@varunsridharan/js-is\";\r\nimport { isCheckCustom } from \"./is\";\r\n\r\nexport function filterElement( element, token ) {\r\n\tif( !isUndefined( token ) ) {\r\n\t\tswitch( token.type ) {\r\n\t\t\tcase 'attr':\r\n\t\t\t\treturn attrHandler( element, token );\r\n\t\t\tcase 'pseudo':\r\n\t\t\t\treturn pesudoHandler( element, token );\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nexport default function filter( selector, elems ) {\r\n\treturn elems.filter( ( elem ) => ( isCheckCustom( selector, elem ) ) );\r\n}\r\n","import { rquickExpr } from \"../regex\";\r\nimport { nonNativeSelector } from \"../cache\";\r\nimport { _push } from \"@varunsridharan/js-vars\";\r\nimport { isFunction, isUndefined } from \"@varunsridharan/js-is\";\r\n\r\n/**\r\n * Tries To Run Native Query Selectors.\r\n * @param selector\r\n * @param context\r\n * @return {boolean|[]}\r\n */\r\nexport function nativeQuery( selector, context ) {\r\n\tlet results       = [],\r\n\t\tisNativeQuery = ( true !== nonNativeSelector( selector ) ),\r\n\t\tisNativeQueryData,\r\n\t\tselector_id,\r\n\t\tselector_class,\r\n\t\tnodeType      = context ? context.nodeType : 9;\r\n\r\n\t/**\r\n\t * Return False if query is already cached as none native\r\n\t */\r\n\tif( !isNativeQuery ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * If the Selector is simple then just use native query system.\r\n\t */\r\n\tif( nodeType !== 11 ) {\r\n\t\tif( ( isNativeQueryData = rquickExpr.exec( selector ) ) ) {\r\n\t\t\tif( ( selector_id = isNativeQueryData[ 1 ] ) && nodeType === 9 ) {\r\n\t\t\t\tresults.push( context.getElementById( selector_id ) );\r\n\t\t\t\treturn results;\r\n\t\t\t} else if( isNativeQueryData[ 2 ] ) {\r\n\t\t\t\t_push.apply( results, context.getElementsByTagName( selector ) );\r\n\t\t\t\treturn results;\r\n\t\t\t} else if( ( selector_class = isNativeQueryData[ 3 ] ) ) {\r\n\t\t\t\t_push.apply( results, context.getElementsByClassName( selector_class ) );\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tresults = queryAll( selector, context );\r\n\tif( false === results ) {\r\n\t\tnonNativeSelector( selector, true );\r\n\t\treturn false;\r\n\t}\r\n\treturn results;\r\n}\r\n\r\nexport function queryAll( selector, context ) {\r\n\tlet results = [];\r\n\r\n\t/**\r\n\t * Try To Use Native QuerySelector All To Find Elements For The Provided Query\r\n\t */\r\n\ttry {\r\n\t\tlet scope = context;\r\n\t\tif( !isFunction( context.querySelectorAll ) ) {\r\n\t\t\tif( !isUndefined( context.document ) && isFunction( context.document.querySelectorAll ) ) {\r\n\t\t\t\tscope = context.document;\r\n\t\t\t} else if( !isUndefined( context.documentElement ) && isFunction( context.documentElement.querySelectorAll ) ) {\r\n\t\t\t\tscope = context.documentElement;\r\n\t\t\t}\r\n\t\t}\r\n\t\t_push.apply( results, scope.querySelectorAll( selector ) );\r\n\t\treturn results;\r\n\t} catch( e ) {\r\n\t}\r\n\treturn false;\r\n}\r\n","import { filterElement } from \"../../filter\";\r\nimport { queryAll } from \"../query\";\r\nimport { _filter } from \"@varunsridharan/js-vars\";\r\n\r\nexport default function( selector, context, results, nextToken ) {\r\n\treturn results.concat( _filter.call( queryAll( selector, context ), el => ( el.parentNode === context && filterElement( el, nextToken ) ) ) );\r\n}\r\n","import matcher from \"../matcher\";\r\n\r\nexport default function( selector, context, results ) {\r\n\tconst el = context.nextElementSibling;\r\n\tif( el && matcher( el, selector ) ) {\r\n\t\tresults.push( el );\r\n\t}\r\n\treturn results;\r\n}","import matches from \"../matcher\";\r\n\r\nexport default function( selector, context, results ) {\r\n\tlet el = context.nextElementSibling;\r\n\twhile( el ) {\r\n\t\tif( matches( el, selector ) ) {\r\n\t\t\tresults.push( el );\r\n\t\t}\r\n\t\tel = el.nextElementSibling;\r\n\t}\r\n\treturn results;\r\n}","import { queryAll } from \"../query\";\r\nimport {filterElement} from \"../../filter\";\r\nimport { _filter } from \"@varunsridharan/js-vars\";\r\n\r\nexport default function( selector, context, results, nextToken ) {\r\n\treturn results.concat( _filter.call( queryAll( selector, context ), ( el ) => filterElement( el, nextToken ) ) );\r\n}\r\n","import child from \"./child\";\r\n//import parent from \"./parent\";\r\nimport adjacent from \"./adjacent\";\r\nimport sibling from \"./sibling\";\r\nimport descendant from \"./descendant\";\r\n\r\nexport default {\r\n\t'>': child,\r\n\t//'<': parent,\r\n\t'+': adjacent,\r\n\t'~': sibling,\r\n\t' ': descendant\r\n};\r\n","import combinators from \"./selector/combinators/index\";\r\nimport attrHandler from \"./selector/attr/index\";\r\nimport parse from \"./parser/parse\";\r\nimport { nativeQuery } from \"./selector/query\";\r\nimport pesudoHandler, { pesudoHandlers } from \"./selector/pseudo\";\r\nimport { currentDocument, isMarkedFunction } from \"./helper\";\r\nimport { selectorResultsCache } from \"./cache\";\r\nimport { _isArray } from \"@varunsridharan/js-vars\";\r\nimport { isString, isUndefined } from \"@varunsridharan/js-is\";\r\n\r\nfunction nextToken( currentPos, tokens ) {\r\n\tif( !isUndefined( tokens[ currentPos ] ) ) {\r\n\t\tif( tokens[ currentPos ].type === 'pseudo' ) {\r\n\t\t\tif( !isMarkedFunction( pesudoHandlers[ tokens[ currentPos ].id ] ) ) {\r\n\t\t\t\treturn { token: tokens[ currentPos++ ], pos: currentPos };\r\n\t\t\t}\r\n\t\t} else if( tokens[ currentPos ].type !== 'combinators' && tokens[ currentPos ].type !== 'descendant' ) {\r\n\t\t\treturn { token: tokens[ currentPos++ ], pos: currentPos };\r\n\t\t}\r\n\t}\r\n\r\n\treturn { token: false, pos: currentPos };\r\n}\r\n\r\nfunction validateToken( tokens ) {\r\n\tlet type = tokens[ 0 ].type,\r\n\t\tid   = tokens[ 0 ].id;\r\n\treturn ( 'tag' === type || 'attr' === type && ( 'id' === id || 'class' === id ) ) ? tokens : [ { type: 'descendant' }, ...tokens ];\r\n}\r\n\r\nexport function findAdvanced( selectors, root ) {\r\n\tselectors = ( isString( selectors ) ) ? parse( selectors ) : selectors;\r\n\troot      = ( !_isArray( root ) ) ? [ root ] : root;\r\n\treturn selectors.reduce( ( results, tokens ) => {\r\n\t\ttokens      = validateToken( tokens );\r\n\t\tlet i       = 0,\r\n\t\t\tlen     = tokens.length,\r\n\t\t\tcontext = root;\r\n\t\twhile( i < len ) {\r\n\t\t\tlet token               = tokens[ i++ ], newToken,\r\n\t\t\t\tcombinator_callback = combinators[ ' ' ],\r\n\t\t\t\t/**\r\n\t\t\t\t * having selectors like `body :hidden` is not working since pseudo works only for elements array\r\n\t\t\t\t * so had to modify the code know if we found any sort of combinators.\r\n\t\t\t\t */\r\n\t\t\t\tcombinators_found   = false;\r\n\r\n\t\t\tif( ( token.type === 'combinators' || token.type === 'descendant' ) && token.action in combinators ) {\r\n\t\t\t\tcombinator_callback = combinators[ token.action ];\r\n\t\t\t\tcombinators_found   = true;\r\n\t\t\t\ttoken               = tokens[ i++ ];\r\n\t\t\t}\r\n\r\n\t\t\tlet { type, id } = token;\r\n\r\n\t\t\tswitch( type ) {\r\n\t\t\t\tcase '*':\r\n\t\t\t\tcase 'tag':\r\n\t\t\t\t\tlet _selector = ( '*' === type ) ? '*' : id;\r\n\t\t\t\t\tnewToken      = nextToken( i, tokens );\r\n\t\t\t\t\ti             = newToken.pos;\r\n\t\t\t\t\tcontext       = context.reduce( ( nodes, el ) => combinator_callback( _selector, el, nodes, newToken.token ), [] );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'attr':\r\n\t\t\t\t\tif( 'id' === id || 'class' === id ) {\r\n\t\t\t\t\t\tnewToken      = nextToken( i, tokens );\r\n\t\t\t\t\t\ti             = newToken.pos;\r\n\t\t\t\t\t\tlet _selector = ( 'id' === id ) ? '#' : '.';\r\n\t\t\t\t\t\tcontext       = context.reduce( ( nodes, el ) => combinator_callback( `${_selector}${token.val}`, el, nodes, newToken.token ), [] );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontext = context.filter( el => attrHandler( el, token ) );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'pseudo':\r\n\t\t\t\t\tif( context === root || combinators_found ) {\r\n\t\t\t\t\t\tcontext = context.reduce( ( nodes, el ) => combinator_callback( `*`, el, nodes, false ), [] );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext = pesudoHandler( context, token );\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontext.forEach( ( el ) => {\r\n\t\t\tif( !results.includes( el ) ) {\r\n\t\t\t\tresults.push( el );\r\n\t\t\t}\r\n\t\t} );\r\n\t\treturn results;\r\n\t}, [] );\r\n}\r\n\r\nexport default function( selector, context ) {\r\n\t/**\r\n\t * Node Types\r\n\t * 1  -- Element Node\r\n\t * 9  -- Document Node (document)\r\n\t * 11 -- Document FRAGMENT\r\n\t */\r\n\tlet results  = false,\r\n\t\tnodeType = context ? context.nodeType : 9;\r\n\r\n\tif( isString( selector ) && ( results = selectorResultsCache( selector ) ) ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if selector var is a !string or !empty and also check for given contxt node type (1,9,11)\r\n\t */\r\n\tif( !selector || nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\tcontext = context || currentDocument;\r\n\r\n\tif( isString( selector ) ) {\r\n\t\tresults = nativeQuery( selector, context );\r\n\t}\r\n\r\n\tif( !results ) {\r\n\t\tresults = findAdvanced( selector, context );\r\n\t}\r\n\r\n\tselectorResultsCache( selector, results );\r\n\r\n\treturn results;\r\n}\r\n","import Dizzle from \"./dizzlecore\";\r\nimport parse from \"./parser/parse\";\r\nimport engine from \"./engine\";\r\nimport combinators from \"./selector/combinators\";\r\nimport { pesudoHandlers } from \"./selector/pseudo\";\r\nimport { attrHandlers } from \"./selector/attr\";\r\nimport { setupMatcherFn } from \"./selector/matcher\";\r\nimport is from \"./is\";\r\nimport filter from \"./filter\";\r\nimport { version } from \"../package.json\";\r\n\r\nDizzle.version     = version;\r\nDizzle.parse       = parse;\r\nDizzle.find        = engine;\r\nDizzle.cacheLength = 50;\r\nDizzle.combinators = combinators;\r\nDizzle.pesudo      = pesudoHandlers;\r\nDizzle.attr        = attrHandlers;\r\nDizzle.is          = is;\r\nDizzle.filter      = filter;\r\nsetupMatcherFn();\r\n\r\nexport default Dizzle;\r\n"],"names":["DizzleCore","selector","context","find","err","msg","Error","guid","Date","reName","reEscape","reAttr","rquickExpr","whitespace","rwhitespace","RegExp","rfindEscapeChar","CombinatorTypes","createCache","keys","cache","key","value","isUndefined","push","cacheLength","shift","parseCache","nonNativeSelector","selectorResultsCache","attribSelectors","unpackPseudos","Set","stripQuotesFromPseudos","quotes","funescape","escaped","escapedWhitespace","high","parseInt","String","fromCharCode","unescapeCSS","str","replace","isWhitespace","c","parseSelector","subselects","tokens","sawWS","getName","match","sub","substr","length","stripWhitespace","start","charAt","isEscaped","pos","slashCount","firstChar","indexOf","type","action","name","id","val","igCase","attributeMatch","completeSelector","baseName","actionType","quotedValue","toLowerCase","data","startsWith","has","quot","quoted","counter","slice","test","pop","addToken","parse","cached","currentValue","compareValue","equals","isTag","elem","nodeType","getChildren","childNodes","_slice","call","getParent","parentNode","attr","el","getAttribute","getSiblings","parent","getTagName","tagName","attrHandlers","notequals","prefixedwith","contains","containsword","endswith","startswith","elementClass","token","status","adapter","isNull","firstChild","nextSibling","disabled","preferedDocument","win","document","currentDocument","docElem","documentElement","markFunction","fn","isMarkedFunction","isFunction","getText","node","ret","i","isString","textContent","nodeValue","createPositionalPseudo","elements","oddOrEven","isodd","totalFound","result","createInputPseudo","nodeName","createButtonPseudo","elemLang","lang","offsetWidth","offsetHeight","getClientRects","visible","previousElementSibling","nextElementSibling","siblings","nthCheck_compile","parsed","a","b","bMod","nthCheck_parse","formula","trim","SyntaxError","isNaN","nthCheck","func","checked","selected","empty","selectedIndex","onlyChild","onlyOfType","j","pesudoHandlers","enabled","hidden","lastChild","firstOfType","lastOfType","even","odd","gt","lt","eq","first","last","nthOfType","nthLastOfType","nthLastChild","input","button","text","forEach","pesudoHandler","_isArray","filter","e","matcherFn","matches","setupMatcherFn","reduce","isCheckCustom","r","results","filterElement","is","matcher","element","attrHandler","elems","nativeQuery","isNativeQuery","isNativeQueryData","selector_id","selector_class","exec","getElementById","_push","apply","getElementsByTagName","getElementsByClassName","queryAll","scope","querySelectorAll","nextToken","concat","_filter","child","adjacent","sibling","descendant","currentPos","validateToken","findAdvanced","selectors","root","len","newToken","combinator_callback","combinators","combinators_found","_selector","nodes","includes","Dizzle","version","engine","pesudo"],"mappings":"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"}